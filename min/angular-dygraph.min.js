!function(){"use strict";angular.module("dygraph",[]).directive("dyGraph",function(e,i){var r=function(e,r,t){var n=r.children()[0];e.options.strokePattern=[1,1],e.api={addGraph:function(){var i={};return i=null!==e.options?new Dygraph(n,e.data,e.options):new Dygraph(n,e.data)}},e.ref=e.api.addGraph(),e.ref.resetZoom(),angular.element(".dygraph-legend").css("cursor","pointer");var l=e.ref.getLabels();if(void 0===t.id){var a="dygraph_"+Math.floor(16e3*Math.random());r.attr("id",a),t.id=a}for(var l=e.ref.getLabels(),s=$("#"+t.id).find(".dygraph-legend").children(),o=0;o<s.length;o++){{"#"+s[o].innerText.trim().split(" ").join("-")+"-leg"}r.on("click",'span:contains("'+s[o].innerText+'")',function(i){var r=i.target.innerText;console.log(r);var t=l.indexOf(r.trim())-1;e.ref.setVisibility(t,!e.ref.visibility()[t])})}e.$watch("data",function(){0!==e.data&&e.ref.updateOptions({file:e.data})},!0),e.legendSeries={},e.$watch("legend",function(){{var i=e.ref.getColors();e.ref.getLabels()}if(void 0!==e.legend&&void 0!==e.legend.series){var r=0;for(var t in e.legend.series)e.legendSeries[t]={},e.legendSeries[t].color=i[r],e.legendSeries[t].label=e.legend.series[t].label,e.legendSeries[t].format=e.legend.series[t].format,e.legendSeries[t].visible=!0,e.legendSeries[t].column=r}},!0),e.seriesStyle=function(e){return e.visible?e.color:void 0},e.seriesLine=function(e){return i.trustAsHtml('<svg height="14" width="20"><line <x1="0" x2="16" y1="8" y2="8" stroke="'+e.color+'"stroke-width="3"/></svg>')},e.selectSeries=function(i){i.visible=!i.visible,e.ref.setVisibility(i.column,i.visible)}};return{restrict:"E",scope:{options:"=?",data:"=",legend:"=?"},templateUrl:"../html/dygraph-template.html",link:r}})}();